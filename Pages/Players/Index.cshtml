@page
@model PlayersIndex.IndexModel
@{
    ViewData["Title"] = "Players";

}

<div>
    <div>
        <div class="form-group mb-2">
            <a asp-page="/Players/Index">Reset</a>
        </div>
        <div>
            @Model.favoriteString
        </div>
        <div>
            <form class="form-inline" id="selectplayer">
                <div class="form-group mb-2">
                    <input type="text" asp-for="SearchPlayer" onchange="this.form.submit();" placeholder="Player's Name'">
                </div>
                <div class="form-group mx-sm-3 mb-2">
                    <input type="submit" class="btn btn-primary mb-2" value="Search" />
                </div>
                <label asp-for="SortField" class="control-label">
                    Sort by:
                </label>
                <select asp-for="SortField" onchange="this.form.submit();">
                    <option value="">--Please choose an option--</option>
                    <option value="Name">Name</option>
                    <option value="Rank">Rank</option>
                    <option value="Age">Age</option>
                </select>
            </form>
        </div>

    </div>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Number</th>
                <th scope="col">Position</th>
                <th scope="col">Height</th>
                <th scope="col">Weight</th>
                <th scope="col">Age</th>
                <th scope="col">BirthDate</th>
                <th scope="col">Rank</th>
                <th scope="col">Link</th>
            </tr>
        </thead>
        @foreach (Player player in @Model.Players)
        {

            <tr class="@(player.Team.Name == @Model.favoriteString ? "favorite": "" )" style="@(player.Depth == 1 ? "font-weight:bold" : "")">

                <td>@player.Name</td>
                <td>@player.Number</td>
                <td>@player.Position</td>
                <td>@player.Height</td>
                <td>@player.Weight</td>
                <td>@player.Age</td>
                <td>@player.BirthDate</td>
                <td>@player.Rank</td>
                <td><a asp-page="././Player" asp-route-id="@player.PlayerId">infos</a> </td>
            </tr>
            }
        </table>
</div>